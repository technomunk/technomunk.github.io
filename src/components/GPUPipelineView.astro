---

---

<gpu-pipeline>
    <div class="frame rect">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1">
            <circle cx=".25" cy=".25" r=".05" fill="black"></circle>
            <circle cx=".5" cy=".75" r=".05" fill="black"></circle>
            <circle cx=".75" cy=".25" r=".05" fill="black"></circle>
        </svg>
    </div>
    <div class="frame rect">
        <canvas id="primitive"></canvas>
    </div>
    <div class="frame rect">
        <canvas id="raster"></canvas>
    </div>
    <div class="frame rect">
        <canvas id="fragment"></canvas>
    </div>
</gpu-pipeline>

<script>
    import '@scripts/components/gpu_pipeline';
</script>

<style lang="scss">
    @use '@styles/palette';

    gpu-pipeline {
        display: flex;
        width: fit-content;
        margin: auto;
        gap: 3vmax;
        flex-direction: row;

        & > div {
            width: 17vw;
            height: 17vw;
            display: inline-block;
            aspect-ratio: 1;

            & circle {
                cursor: move;
                &.dragging {
                    cursor: grabbing;
                }
            }

            & > canvas,
            & > svg {
                border-radius: 4px;
                background: padding-box palette.light(background);
                width: 100%;
                height: 100%;
            }
        }

        @media (max-aspect-ratio: 1/1) {
            flex-direction: column;
            & > div {
                width: min(300px, 80vw);
                height: min(300px, 80vw);
            }
        }
    }
</style>
